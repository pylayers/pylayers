
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Description of antennas &mdash; Python 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="Python 1 documentation" href="../../index.html" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body role="document">

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../../index.html">
            <img src="../../_static/pylayers.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="../../download.html">Download</a></li>
            <li><a href="../TOC.html">User Guide</a></li>
            <li><a href="../../modules/pylayers.html">Reference</a></li>
       </ul>

<div class="search_form">

<div id="cse" style="width: 100%;"></div>
<script>
  (function() {
       var cx = '004820205189002234612:sa15qzuf2ca';
           var gcse = document.createElement('script');
               gcse.type = 'text/javascript';
                   gcse.async = true;
                       gcse.src = (document.location.protocol == 'https:' ?
                           'https:' : 'http:') +
                               '//cse.google.com/cse.js?cx=' + cx;
                                   var s =
                                   document.getElementsByTagName('script')[0];
                                       s.parentNode.insertBefore(gcse, s);
                                         })();
</script>
<gcse:search></gcse:search>
</div>
</div> <!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
	   <div class="rel rellarge">
	     
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  -->
	<div class="rellink">
	<a href="../../py-modindex.html" title="Python Module Index"
	    >Modules
	    <br>
	    <span class="smallrellink">
	    Python Module...
	    </span>
	    <span class="hiddenrellink">
	    Python Module Index
	    </span>
	    
	    </a>
	</div>
	<!-- Ad a link to the 'up' page -->
    </div>
    <p style="text-align: center; background-color: #BFFFFF">This documentation is

    for Python <strong>version 1</strong>
    &mdash; <a href="https://github.com/pylayers/pylayers/archive/master.zip">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="../../about.html#citing-pylayers">citing pylayers</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">Description of antennas</a></li>
<li><a class="reference internal" href="#pattern-visualization">Pattern Visualization</a></li>
<li><a class="reference internal" href="#spherial-harmonics-representation">Spherial Harmonics representation</a><ul>
<li><a class="reference internal" href="#synthesis-of-the-radiation-pattern">Synthesis of the radiation pattern</a></li>
<li><a class="reference internal" href="#defining-antenna-gain-from-analytic-formulas">Defining Antenna gain from analytic formulas</a></li>
</ul>
</li>
</ul>

    
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="description-of-antennas">
<h1>Description of antennas<a class="headerlink" href="#description-of-antennas" title="Permalink to this headline">¶</a></h1>
<p>PyLayers has a very rich set of tools for handling antenna radiation
pattern. Antennas can be described in different manners and read from
different specific file formats.</p>
<p>The description goes from a simple antenna gain formula to a full
polarization description, compressed or not, using scalar or vector
spherical harmonics decomposition.</p>
<p>In the following, some features of the <code class="docutils literal"><span class="pre">Antenna</span></code> class are
illustrated. The <code class="docutils literal"><span class="pre">Antenna</span></code> class is stored in the
<a class="reference external" href="http://pylayers.github.io/pylayers/modules/pylayers.antprop.antenna.html">antenna.py</a>
module which is placed in the <code class="docutils literal"><span class="pre">antprop</span></code> module.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span>from pylayers.antprop.antenna import *
%matplotlib inline
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>WARNING:traits.has_traits:DEPRECATED: traits.has_traits.wrapped_class, &#39;the &#39;implements&#39; class advisor has been deprecated. Use the &#39;provides&#39; class decorator.
</pre></div>
</div>
<p>An antenna object can not be loaded in specifying an existing antenna
file name as argument of the constructor. Lets start by loading an
antenna from a <code class="docutils literal"><span class="pre">vsh3</span></code> file which correspond to a vector spherical
harmonics representation of an antenna measured in SATIMO near field
chamber.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">Antenna</span><span class="p">(</span><span class="s1">&#39;S1R1.vsh3&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The object antenna can show itself just by typing it&#8217;s name.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>Antenna type : vsh3
------------------------
file name : S1R1.vsh3
fmin : 0.80GHz
fmax : 5.95GHz
step : 50.00MHz
Nf : 104
Not evaluated
</pre></div>
</div>
<p>We got information about the antenna filename and the frequency band
where it has been defined.</p>
<p>At loading time the antenna is not evaluated. It means that there is no
internally any pattern for a set of angular and frequency values.</p>
<p>To list all the available antenna files in the dedicated directory of
the project it is possible to invoke the <code class="docutils literal"><span class="pre">ls()</span></code> method.</p>
<p>Antenna files should be stored in the sub-directory <code class="docutils literal"><span class="pre">ant</span></code> of the
current project. The current project is located with the <code class="docutils literal"><span class="pre">$BASENAME</span></code>
environment variable.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span>!echo $BASENAME
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>/home/uguen/Bureau/P1
</pre></div>
</div>
<p>We can use the <code class="docutils literal"><span class="pre">ls</span></code> method to determine the number of files of
different type</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">lvsh3</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="s1">&#39;vsh3&#39;</span><span class="p">)</span>
<span class="n">lssh3</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="s1">&#39;sh3&#39;</span><span class="p">)</span>
<span class="n">lmat</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">ls</span><span class="p">(</span><span class="s1">&#39;mat&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s2">&quot;Number of antenna in .vsh3 format : &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lvsh3</span><span class="p">)</span>
<span class="k">print</span> <span class="s2">&quot;Number of antenna in .sh3 format : &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lssh3</span><span class="p">)</span>
<span class="k">print</span> <span class="n">lvsh3</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="k">print</span> <span class="n">lssh3</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>Number of antenna in .vsh3 format :  5
Number of antenna in .sh3 format :  4
[&#39;S1R1.vsh3&#39;, &#39;UWB_CEA.vsh3&#39;, &#39;defant.vsh3&#39;, &#39;dipole_XZ_NEC2.vsh3&#39;, &#39;monocone_IETR_1_6_G.vsh3&#39;]
[&#39;S17R1.sh3&#39;, &#39;S17R2m.sh3&#39;, &#39;S1R1.sh3&#39;, &#39;S2R2.sh3&#39;]
</pre></div>
</div>
</div>
<div class="section" id="pattern-visualization">
<h1>Pattern Visualization<a class="headerlink" href="#pattern-visualization" title="Permalink to this headline">¶</a></h1>
<p>As already mentionned, the radiation pattern of the antenna has not yet
been evaluated. The method to evaluate the pattern is <code class="docutils literal"><span class="pre">eval()</span></code> with
the <code class="docutils literal"><span class="pre">grid</span></code> option set to true. If the <code class="docutils literal"><span class="pre">grid</span></code> option is set to False,
the antenna is evaluated for only the specified direction. This mode is
used in the ray tracing, while the former is used to visualize the whole
antenna pattern.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
</pre></div>
</div>
<p>Now the antenna is evaluated</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>Antenna type : vsh3
------------------------
file name : S1R1.vsh3
fmin : 0.80GHz
fmax : 5.95GHz
step : 50.00MHz
Nf : 104
-----------------------
      evaluated
-----------------------
Ntheta : 90
Nphi : 181
   f = 5.60 GHz
   theta = 68.76 (degrees)
   phi = 270.50  (degrees)
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">fGHz</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mf">0.8</span> <span class="p">,</span>  <span class="mf">0.85</span><span class="p">,</span>  <span class="mf">0.9</span> <span class="p">,</span>  <span class="mf">0.95</span><span class="p">,</span>  <span class="mf">1.</span>  <span class="p">,</span>  <span class="mf">1.05</span><span class="p">,</span>  <span class="mf">1.1</span> <span class="p">,</span>  <span class="mf">1.15</span><span class="p">,</span>  <span class="mf">1.2</span> <span class="p">,</span>
        <span class="mf">1.25</span><span class="p">,</span>  <span class="mf">1.3</span> <span class="p">,</span>  <span class="mf">1.35</span><span class="p">,</span>  <span class="mf">1.4</span> <span class="p">,</span>  <span class="mf">1.45</span><span class="p">,</span>  <span class="mf">1.5</span> <span class="p">,</span>  <span class="mf">1.55</span><span class="p">,</span>  <span class="mf">1.6</span> <span class="p">,</span>  <span class="mf">1.65</span><span class="p">,</span>
        <span class="mf">1.7</span> <span class="p">,</span>  <span class="mf">1.75</span><span class="p">,</span>  <span class="mf">1.8</span> <span class="p">,</span>  <span class="mf">1.85</span><span class="p">,</span>  <span class="mf">1.9</span> <span class="p">,</span>  <span class="mf">1.95</span><span class="p">,</span>  <span class="mf">2.</span>  <span class="p">,</span>  <span class="mf">2.05</span><span class="p">,</span>  <span class="mf">2.1</span> <span class="p">,</span>
        <span class="mf">2.15</span><span class="p">,</span>  <span class="mf">2.2</span> <span class="p">,</span>  <span class="mf">2.25</span><span class="p">,</span>  <span class="mf">2.3</span> <span class="p">,</span>  <span class="mf">2.35</span><span class="p">,</span>  <span class="mf">2.4</span> <span class="p">,</span>  <span class="mf">2.45</span><span class="p">,</span>  <span class="mf">2.5</span> <span class="p">,</span>  <span class="mf">2.55</span><span class="p">,</span>
        <span class="mf">2.6</span> <span class="p">,</span>  <span class="mf">2.65</span><span class="p">,</span>  <span class="mf">2.7</span> <span class="p">,</span>  <span class="mf">2.75</span><span class="p">,</span>  <span class="mf">2.8</span> <span class="p">,</span>  <span class="mf">2.85</span><span class="p">,</span>  <span class="mf">2.9</span> <span class="p">,</span>  <span class="mf">2.95</span><span class="p">,</span>  <span class="mf">3.</span>  <span class="p">,</span>
        <span class="mf">3.05</span><span class="p">,</span>  <span class="mf">3.1</span> <span class="p">,</span>  <span class="mf">3.15</span><span class="p">,</span>  <span class="mf">3.2</span> <span class="p">,</span>  <span class="mf">3.25</span><span class="p">,</span>  <span class="mf">3.3</span> <span class="p">,</span>  <span class="mf">3.35</span><span class="p">,</span>  <span class="mf">3.4</span> <span class="p">,</span>  <span class="mf">3.45</span><span class="p">,</span>
        <span class="mf">3.5</span> <span class="p">,</span>  <span class="mf">3.55</span><span class="p">,</span>  <span class="mf">3.6</span> <span class="p">,</span>  <span class="mf">3.65</span><span class="p">,</span>  <span class="mf">3.7</span> <span class="p">,</span>  <span class="mf">3.75</span><span class="p">,</span>  <span class="mf">3.8</span> <span class="p">,</span>  <span class="mf">3.85</span><span class="p">,</span>  <span class="mf">3.9</span> <span class="p">,</span>
        <span class="mf">3.95</span><span class="p">,</span>  <span class="mf">4.</span>  <span class="p">,</span>  <span class="mf">4.05</span><span class="p">,</span>  <span class="mf">4.1</span> <span class="p">,</span>  <span class="mf">4.15</span><span class="p">,</span>  <span class="mf">4.2</span> <span class="p">,</span>  <span class="mf">4.25</span><span class="p">,</span>  <span class="mf">4.3</span> <span class="p">,</span>  <span class="mf">4.35</span><span class="p">,</span>
        <span class="mf">4.4</span> <span class="p">,</span>  <span class="mf">4.45</span><span class="p">,</span>  <span class="mf">4.5</span> <span class="p">,</span>  <span class="mf">4.55</span><span class="p">,</span>  <span class="mf">4.6</span> <span class="p">,</span>  <span class="mf">4.65</span><span class="p">,</span>  <span class="mf">4.7</span> <span class="p">,</span>  <span class="mf">4.75</span><span class="p">,</span>  <span class="mf">4.8</span> <span class="p">,</span>
        <span class="mf">4.85</span><span class="p">,</span>  <span class="mf">4.9</span> <span class="p">,</span>  <span class="mf">4.95</span><span class="p">,</span>  <span class="mf">5.</span>  <span class="p">,</span>  <span class="mf">5.05</span><span class="p">,</span>  <span class="mf">5.1</span> <span class="p">,</span>  <span class="mf">5.15</span><span class="p">,</span>  <span class="mf">5.2</span> <span class="p">,</span>  <span class="mf">5.25</span><span class="p">,</span>
        <span class="mf">5.3</span> <span class="p">,</span>  <span class="mf">5.35</span><span class="p">,</span>  <span class="mf">5.4</span> <span class="p">,</span>  <span class="mf">5.45</span><span class="p">,</span>  <span class="mf">5.5</span> <span class="p">,</span>  <span class="mf">5.55</span><span class="p">,</span>  <span class="mf">5.6</span> <span class="p">,</span>  <span class="mf">5.65</span><span class="p">,</span>  <span class="mf">5.7</span> <span class="p">,</span>
        <span class="mf">5.75</span><span class="p">,</span>  <span class="mf">5.8</span> <span class="p">,</span>  <span class="mf">5.85</span><span class="p">,</span>  <span class="mf">5.9</span> <span class="p">,</span>  <span class="mf">5.95</span><span class="p">])</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mf">0.8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;phi&#39;</span><span class="p">,</span><span class="n">GmaxdB</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_22_0.png" src="../../_images/Antenna_22_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mf">0.8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;theta&#39;</span><span class="p">,</span><span class="n">GmaxdB</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_23_0.png" src="../../_images/Antenna_23_0.png" />
</div>
<div class="section" id="spherial-harmonics-representation">
<h1>Spherial Harmonics representation<a class="headerlink" href="#spherial-harmonics-representation" title="Permalink to this headline">¶</a></h1>
<p>The vector spherical coefficient are strored in <code class="docutils literal"><span class="pre">A.C</span></code>. This C refers
to the coefficients. Those coefficients are obtained thanks to the
<a class="reference external" href="http://nldr.library.ucar.edu/repository/assets/technotes/TECH-NOTE-000-000-000-380.pdf">Spherepack
Module</a>.</p>
<p>Adams, J.C., and P.N. Swarztrauber, 1997: Spherepack 2.0: A Model
Development Facility. NCAR Technical Note NCAR/TN-436+STR, DOI:
10.5065/D6Z899CF.</p>
<p>We are here using the same notations. See Formula 4-10- to 4-13 of the
above reference document. Only the vector spherical analysis is done
using the <code class="docutils literal"><span class="pre">vha</span></code> function <code class="docutils literal"><span class="pre">Spherepack</span></code>, the vector spherical
synthesis has been numpyfied in the
<a class="reference external" href="http://pylayers.github.io/pylayers/modules/pylayers.antprop.spharm.html">pylayers.antprop.spharm.py</a>
module.</p>
<p><a class="reference external" href="./AntennaVSH.html">Description of Vector Spherical Harmonics</a></p>
<p>The coefficients of the antenna also have a <strong>repr</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">C</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>Br
-------------
Nf   : 104
fmin (GHz) : 0.8
fmax (GHz) : 5.95
Ncoeff s3 : 72

Bi
-------------
Nf   : 104
fmin (GHz) : 0.8
fmax (GHz) : 5.95
Ncoeff s3 : 72

Cr
-------------
Nf   : 104
fmin (GHz) : 0.8
fmax (GHz) : 5.95
Ncoeff s3 : 72

Ci
-------------
Nf   : 104
fmin (GHz) : 0.8
fmax (GHz) : 5.95
Ncoeff s3 : 72
</pre></div>
</div>
<div class="section" id="synthesis-of-the-radiation-pattern">
<h2>Synthesis of the radiation pattern<a class="headerlink" href="#synthesis-of-the-radiation-pattern" title="Permalink to this headline">¶</a></h2>
<p>The radiation pattern is synthetized with the following call</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">sqG</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="mf">2.2267467105871743</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">plotG()</span></code> method allow to superpose different pattern for a list
of frequencies <code class="docutils literal"><span class="pre">fGHz</span></code> + If <code class="docutils literal"><span class="pre">phd</span></code> (phi in degree) is specified the
diagram is given as a function of <img src="../../_images/mathmpl/math-5dc8912759.png" style="position: relative; bottom: -3px"/> + If <code class="docutils literal"><span class="pre">thd</span></code> (theta in
degree) is specified the diagram is given as a function of <img src="../../_images/mathmpl/math-e22cc525ec.png" style="position: relative; bottom: -7px"/></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;polar&#39;</span><span class="p">)</span>
<span class="n">f1</span><span class="p">,</span><span class="n">a1</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;theta&#39;</span><span class="p">,</span><span class="n">angdeg</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">GmaxdB</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">a1</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;polar&#39;</span><span class="p">)</span>
<span class="n">f2</span><span class="p">,</span><span class="n">a2</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;phi&#39;</span><span class="p">,</span><span class="n">angdeg</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span><span class="n">GmaxdB</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">a2</span><span class="p">)</span>
<span class="n">f2</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_36_0.png" src="../../_images/Antenna_36_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">f1</span><span class="p">,</span><span class="n">a1</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;theta&#39;</span><span class="p">,</span><span class="n">angdeg</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">a1</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">polar</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">f2</span><span class="p">,</span><span class="n">a2</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">5.6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;phi&#39;</span><span class="p">,</span><span class="n">angdeg</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span><span class="n">GmaxdB</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">f1</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">a2</span><span class="p">,</span><span class="n">polar</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">f2</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_37_0.png" src="../../_images/Antenna_37_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">fGHz</span><span class="p">[</span><span class="mi">96</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="mf">5.6000000000000005</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">plotG</span><span class="p">(</span><span class="n">fGHz</span><span class="o">=</span><span class="p">[</span><span class="mf">5.6</span><span class="p">],</span><span class="n">plan</span><span class="o">=</span><span class="s1">&#39;phi&#39;</span><span class="p">,</span><span class="n">angdeg</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span><span class="n">GmaxdB</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_39_0.png" src="../../_images/Antenna_39_0.png" />
<div class="highlight-python"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x2b0900a8d1d0&gt;,
 &lt;matplotlib.projections.polar.PolarAxes at 0x2b09003648d0&gt;)
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="c1"># A.pol3d(R=5,St=8,Sp=8)</span>
</pre></div>
</div>
<p>The vector spherical coefficients can be dispalayed as follows</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">A</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_42_0.png" src="../../_images/Antenna_42_0.png" />
</div>
<div class="section" id="defining-antenna-gain-from-analytic-formulas">
<h2>Defining Antenna gain from analytic formulas<a class="headerlink" href="#defining-antenna-gain-from-analytic-formulas" title="Permalink to this headline">¶</a></h2>
<p>An antenna can also be defined from closed-form expressions. Available
antennas are the following + Omni + Gauss + WirePlate + 3GPP</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">Ag</span> <span class="o">=</span> <span class="n">Antenna</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s1">&#39;Gauss&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">Ag</span><span class="o">.</span><span class="n">plotG</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_46_0.png" src="../../_images/Antenna_46_0.png" />
<div class="highlight-python"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x2b0900c1e350&gt;,
 &lt;matplotlib.projections.polar.PolarAxes at 0x2b0900c1e310&gt;)
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">Ao</span> <span class="o">=</span> <span class="n">Antenna</span><span class="p">(</span><span class="s1">&#39;Omni&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">Ao</span><span class="o">.</span><span class="n">plotG</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_48_0.png" src="../../_images/Antenna_48_0.png" />
<div class="highlight-python"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x2b0900af2d10&gt;,
 &lt;matplotlib.projections.polar.PolarAxes at 0x2b0900af2910&gt;)
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A3</span> <span class="o">=</span> <span class="n">Antenna</span><span class="p">(</span><span class="s1">&#39;3gpp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="n">A3</span><span class="o">.</span><span class="n">plotG</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/Antenna_50_0.png" src="../../_images/Antenna_50_0.png" />
<div class="highlight-python"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x2b0900ab4c90&gt;,
 &lt;matplotlib.projections.polar.PolarAxes at 0x2b0900ab44d0&gt;)
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; 2015, PyLayers developer team.
      Last updated on avril 26, 2016.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.5. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="../../_sources/notebook/2-AP/Antenna.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel rellarge">
    
    <div class="buttonPrevious">
      <a href="../../py-modindex.html">
        Previous
      </a>  
    </div>
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#AFFFFF');
           },
           function () {
               $(this).css('background-color', '#AFFFFF');
           }
       );
     </script>
  </body>
</html>