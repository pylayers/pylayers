
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Indoor Coverage with the PyLayers Multi Wall model &mdash; Python 1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="Python 1 documentation" href="../../index.html" />
    <link rel="up" title="1   Overview" href="../TOC.html" />
    <link rel="next" title="Example of Utilisation of Coverage" href="Coverage2.html" />
    <link rel="prev" title="2.2.2. Vector Spherical Harmonics Representation of Antennas" href="AntennaVSH.html" />
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body role="document">

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../../index.html">
            <img src="../../_static/pylayers.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="../../download.html">Download</a></li>
            <li><a href="../TOC.html">User Guide</a></li>
            <li><a href="../../modules/pylayers.html">Reference</a></li>
       </ul>

<div class="search_form">

<div id="cse" style="width: 100%;"></div>
<script>
  (function() {
       var cx = '004820205189002234612:sa15qzuf2ca';
           var gcse = document.createElement('script');
               gcse.type = 'text/javascript';
                   gcse.async = true;
                       gcse.src = (document.location.protocol == 'https:' ?
                           'https:' : 'http:') +
                               '//cse.google.com/cse.js?cx=' + cx;
                                   var s =
                                   document.getElementsByTagName('script')[0];
                                       s.parentNode.insertBefore(gcse, s);
                                         })();
</script>
<gcse:search></gcse:search>
</div>
</div> <!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
	  <div class="rel">
	   
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  -->
	<div class="rellink">
	<a href="AntennaVSH.html" title="2.2.2. Vector Spherical Harmonics Representation of Antennas"
	    accesskey="P">Previous
	    <br>
	    <span class="smallrellink">
	    2.2.2. Vector...
	    </span>
	    <span class="hiddenrellink">
	    2.2.2. Vector Spherical Harmonics Representation of Antennas
	    </span>
	    
	    </a>
	</div>
	    <div class="spacer">
	    &nbsp;
	    </div>
	
	<div class="rellink">
	<a href="Coverage2.html" title="Example of Utilisation of Coverage"
	    accesskey="N">Next
	    <br>
	    <span class="smallrellink">
	    Example of Ut...
	    </span>
	    <span class="hiddenrellink">
	    Example of Utilisation of Coverage
	    </span>
	    
	    </a>
	</div>
	    <div class="spacer">
	    &nbsp;
	    </div>
	
	<div class="rellink">
	<a href="../../py-modindex.html" title="Python Module Index"
	    >Modules
	    <br>
	    <span class="smallrellink">
	    Python Module...
	    </span>
	    <span class="hiddenrellink">
	    Python Module Index
	    </span>
	    
	    </a>
	</div>
	<!-- Ad a link to the 'up' page -->
	<div class="spacer">
	&nbsp;
	</div>
	<div class="rellink">
	<a href="../TOC.html" title="1   Overview" >
	Up
	<br>
	<span class="smallrellink">
	1   Overview
	</span>
	<span class="hiddenrellink">
	1   Overview
	</span>
	
	</a>
	</div>
    </div>
    <p style="text-align: center; background-color: #BFFFFF">This documentation is

    for Python <strong>version 1</strong>
    &mdash; <a href="https://github.com/pylayers/pylayers/archive/master.zip">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="../../about.html#citing-pylayers">citing pylayers</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">Indoor Coverage with the PyLayers Multi Wall model</a></li>
</ul>

    
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="indoor-coverage-with-the-pylayers-multi-wall-model">
<h1>Indoor Coverage with the PyLayers Multi Wall model<a class="headerlink" href="#indoor-coverage-with-the-pylayers-multi-wall-model" title="Permalink to this headline">¶</a></h1>
<p>A Multi wall model accounts only for the attenuation along the direct
path between Tx and Rx.</p>
<p>This approach do not provide information about delay spread or multi
paths but it can nevertheless be useful in different contexts, as i.e
optimization of an indoor radio network. The MultiWall approach provides
a fast rough indication about the propagation losses.</p>
<p>A ray tracing approach is much more accurate, but also is much more time
consuming and depending on the purpose, it is relevant to proceed with a
simpler and faster site-specific approach as the Multiwall model.</p>
<p><strong>``PyLayers``</strong> provides a multiwall module which heavily relies on the
core class <strong>``Slab``</strong>. Notice that, the same core <strong>``Slab``</strong> module
is used for Ray tracing and MultiWall model approaches.</p>
<p>Let&#8217;s see, how it works. First let&#8217;s import the <code class="docutils literal"><span class="pre">coverage</span></code> module. And
the <code class="docutils literal"><span class="pre">time</span></code> module for performance evaluation.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>from pylayers.antprop.coverage import *
from matplotlib.pyplot import *
%matplotlib inline
import time
</pre></div>
</div>
<p>Instantiate a coverage object. By defaut the <code class="docutils literal"><span class="pre">TA-Office.ini</span></code> layout is
loaded.</p>
<p>The coverage information is placed in the <strong>coverage.ini</strong> file in the
project directory.</p>
<p>Below is an example such a configuration file.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>!cat $BASENAME/ini/coverage.ini
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>[grid]
nx = 40
ny = 20
boundary = [20,0,30,20]
mode = full ; file, zone , full
file = &#39;points.ini&#39;

[layout]
filename = TA-Office.ini ; 0 40 0 15
;filename = W2PTIN.ini
;filename = Lstruc.str

[ap]
0 = {&#39;name&#39;:&#39;room1&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(1,12,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
1 = {&#39;name&#39;:&#39;room2&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(10,2,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
2 = {&#39;name&#39;:&#39;room3&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(20,1,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
3 = {&#39;name&#39;:&#39;room4&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(36.5,1.5,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
4 = {&#39;name&#39;:&#39;room5&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(25,12,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}

[rx]
temperaturek = 300
noisefactordb = 0

[show]
show = True
</pre></div>
</div>
<p>The ini file contains 5 sections.</p>
<ul class="simple">
<li>[grid] section This section precises the size of the grid. By default
the grid is placed over the whole region of the Layout. A selected
region can also be defined whith the <code class="docutils literal"><span class="pre">boundary</span></code> list</li>
<li>[layout] section The name of the layout file (filename = )</li>
<li>[ap] section A dictionnary of access points precising the standard,
the used channel, the emitted power and the position of the access
point.</li>
<li>[show] section</li>
</ul>
<div class="code python highlight-none"><div class="highlight"><pre><span></span># Create a Coverage object from coverag.ini file
C = Coverage(&#39;coverage.ini&#39;)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>building Layout ...
check len(ncycles) == 2 passed
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">C</span></code> has a dictionnary <code class="docutils literal"><span class="pre">dap</span></code> (dictionnary of access points) which
gathers information about each access points of the scene.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C.dap[1]
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>name : room2
p : (10, 2, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True
</pre></div>
</div>
<p>The coverage object has a <code class="docutils literal"><span class="pre">__repr__</span></code> method which summarizes different
parameters of the current coverage object</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Layout file : TA-Office.ini

-----list of Access Points ------
name : room1
p : (1, 12, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room2
p : (10, 2, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room3
p : (20, 1, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room4
p : (36.5, 1.5, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room5
p : (25, 12, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

-----Rx------
temperature (K) : 300
noisefactor (dB) : 0

--- Grid ----
mode : full
nx : 40
ny : 20
</pre></div>
</div>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C.cover()
</pre></div>
</div>
<p>Let display the current Layout with hidding nodes.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
C.L.display[&#39;nodes&#39;]=False
C.L.display[&#39;ednodes&#39;]=False
f,a = C.show(fig=fig)
</pre></div>
</div>
<img alt="../../_images/Coverage_12_0.png" src="../../_images/Coverage_12_0.png" />
<p>The shadowing map coverage results can be displayed by invoquing various
functions.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f,a=C.show(fig=fig,typ=&#39;pr&#39;)
</pre></div>
</div>
<img alt="../../_images/Coverage_14_0.png" src="../../_images/Coverage_14_0.png" />
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f,a=C.show(fig=fig,typ=&#39;pr&#39;,f=4)
</pre></div>
</div>
<img alt="../../_images/Coverage_15_0.png" src="../../_images/Coverage_15_0.png" />
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f,a=C.show(fig=fig,typ=&#39;pr&#39;,f=10)
</pre></div>
</div>
<img alt="../../_images/Coverage_16_0.png" src="../../_images/Coverage_16_0.png" />
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f,a=C.show(fig=fig,typ=&#39;best&#39;,f=1)
</pre></div>
</div>
<img alt="../../_images/Coverage_17_0.png" src="../../_images/Coverage_17_0.png" />
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f,a=C.show(fig=fig,typ=&#39;best&#39;,f=10)
</pre></div>
</div>
<img alt="../../_images/Coverage_18_0.png" src="../../_images/Coverage_18_0.png" />
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f=C.show(fig=fig,f=5,typ=&#39;sinr&#39;)
</pre></div>
</div>
<img alt="../../_images/Coverage_19_0.png" src="../../_images/Coverage_19_0.png" />
<p>As you have noticed the calculation has been done for all the center
frequencies of the selected standard. This is done in prevision of
further channel optimizations.</p>
<p>Let&#8217;s consider an other layout</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C2 = Coverage(&#39;coverage2.ini&#39;)
C2.cover()
</pre></div>
</div>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
f=C2.show(ftyp=&#39;pr&#39;)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;matplotlib.figure.Figure at 0x7fe90e684a10&gt;
</pre></div>
</div>
<img alt="../../_images/Coverage_22_1.png" src="../../_images/Coverage_22_1.png" />
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C.snro.shape
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(13, 800, 5)
</pre></div>
</div>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>fig=figure(figsize=(10,5))
C.show(fig=fig,f=5,typ=&#39;capacity&#39;,dB=False)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7fe910a9d910&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7fe910a9ddd0&gt;)
</pre></div>
</div>
<img alt="../../_images/Coverage_24_1.png" src="../../_images/Coverage_24_1.png" />
<p>All simulated quantities are stored in linear scale.</p>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C2.Lwo[0,0,0]
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>0.00087507748196715026
</pre></div>
</div>
<div class="code python highlight-none"><div class="highlight"><pre><span></span>C2.freespace[0,0,0]
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>1.7443256561424206e-06
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; 2016, PyLayers developer team.
      Last updated on Oct 22, 2016.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5a0. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="../../_sources/notebook/2-AP/Coverage.rst.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="AntennaVSH.html">
        Previous
      </a>  
    </div>
    <div class="buttonNext">
      <a href="Coverage2.html">
        Next
      </a>  
    </div>
    <div class="buttonPrevious">
      <a href="../../py-modindex.html">
        Previous
      </a>  
    </div>
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#AFFFFF');
           },
           function () {
               $(this).css('background-color', '#AFFFFF');
           }
       );
     </script>
  </body>
</html>