<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>9. Indoor Coverage with the PyLayers Multi Wall model &mdash; PyLayers</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="PyLayers" href="../../index.html" /> 
  </head>
  <body>
<div style="color: black;background-color: white; font-size: 3.2em; text-align: left; padding: 15px 10px 10px 15px">
    PyLayers
<!--
<a href="../../index.html"><img src="../../_static/logo.png" height="200" border="0"
    alt="pylayers"/></a>
-->
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="../index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/notebook/2-AP/Coverage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="indoor-coverage-with-the-pylayers-multi-wall-model">
<h1>9. Indoor Coverage with the PyLayers Multi Wall model<a class="headerlink" href="#indoor-coverage-with-the-pylayers-multi-wall-model" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>A Multi wall model accounts only for the attenuation along the
direct path between Tx and Rx.</p>
<p>This approach do not provide any information about delay spread or
multi paths but it can nevertheless be useful in different context
as optimization of an indoor radio network. The MultiWall approach
provides a fast indication about the propagation losses.</p>
<p>A ray tracing approach is much more precise, but also is much more
time consuming and depending on the purpose, it could be relevant to
proceed with a simpler and faster site-specific approach as the
Multiwall model.</p>
<p><strong>``PyLayers``</strong> provides a multiwall module which heavily relies on
the core class <strong>``Slab``</strong>. Notice that, the same core <strong>``Slab``</strong>
module is used for Ray tracing and MultiWall model approaches.</p>
</div></blockquote>
<p>Let see, how it works. First let&#8217;s import the <tt class="docutils literal"><span class="pre">coverage</span></tt> module. And
the <tt class="docutils literal"><span class="pre">time</span></tt> module for performance evaluation.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pylayers.antprop.coverage</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>WARNING:traits.has_traits:DEPRECATED: traits.has_traits.wrapped_class, &#39;the &#39;implements&#39; class advisor has been deprecated. Use the &#39;provides&#39; class decorator.
</pre></div>
</div>
<p>Instantiate a coverage object. By defaut the <tt class="docutils literal"><span class="pre">TA-Office.ini</span></tt> layout is
loaded.</p>
<p>The coverage information is placed in the <strong>coverage.ini</strong> file in the
project directory.</p>
<p>Below is an example such a configuration file.</p>
<div class="code python highlight-python"><div class="highlight"><pre>!cat $BASENAME/ini/coverage.ini
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>[grid]
nx = 40
ny = 20
boundary = [20,0,30,20]
mode = full ; file, zone , full
file = &#39;points.ini&#39;

[layout]
filename = TA-Office.ini ; 0 40 0 15
;filename = W2PTIN.ini
;filename = Lstruc.str

[ap]
0 = {&#39;name&#39;:&#39;room1&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(1,12,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
1 = {&#39;name&#39;:&#39;room2&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(10,2,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
2 = {&#39;name&#39;:&#39;room3&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(20,1,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
3 = {&#39;name&#39;:&#39;room4&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(36.5,1.5,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}
4 = {&#39;name&#39;:&#39;room5&#39;,&#39;wstd&#39;:&#39;ieee80211b&#39;,&#39;p&#39;:(25,12,1.2),&#39;PtdBm&#39;:0,&#39;chan&#39;:[11],&#39;on&#39;:True}

[rx]
temperaturek = 300
noisefactordb = 0

[show]
show = True
</pre></div>
</div>
<p>The ini file contains 5 sections.</p>
<ul>
<li><p class="first">[grid] section</p>
<p>This section precises the size of the grid. By default the grid is
placed over the whole region of the Layout. A selected region can
also be defined whith the <tt class="docutils literal"><span class="pre">boundary</span></tt> list</p>
</li>
<li><p class="first">[layout] section</p>
<p>The name of the layout file (filename = )</p>
</li>
<li><p class="first">[ap] section</p>
<p>A dictionnary of access points precising the standard, the used
channel, the emitted power and the position of the access point.</p>
</li>
<li><p class="first">[show] section</p>
</li>
</ul>
<div class="code python highlight-python"><div class="highlight"><pre><span class="c"># Create a Coverage object from coverag.ini file</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">Coverage</span><span class="p">(</span><span class="s">&#39;coverage.ini&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">C</span></tt> has a dictionnary <tt class="docutils literal"><span class="pre">dap</span></tt> (dictionnary of access points) which
gathers information about each access points of the scene.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">dap</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>name : room2
p : (10, 2, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True
</pre></div>
</div>
<p>The coverage object has a <tt class="docutils literal"><span class="pre">__repr__</span></tt> method which summarizes different
parameters of the current coverage object</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Layout file : TA-Office.ini

-----list of Access Points ------
name : room1
p : (1, 12, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room2
p : (10, 2, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room3
p : (20, 1, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room4
p : (36.5, 1.5, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

name : room5
p : (25, 12, 1.2)
PtdBm : 0
channels  : [11]   2.462 : [2.451,2.473]
sensdBm : -94
nant : 1
On : True

-----Rx------
temperature (K) : 300
noisefactor (dB) : 0

--- Grid ----
mode : full
nx : 40
ny : 20
</pre></div>
</div>
<p>Then, the coverage calculation is launched by calling the <tt class="docutils literal"><span class="pre">cover()</span></tt>
method</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">tic</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
<span class="n">toc</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Execution time : </span><span class="si">%2.3f</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">toc</span><span class="o">-</span><span class="n">tic</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Execution time : 2.880
</pre></div>
</div>
<p>Let display the current Layout with hidding nodes.</p>
<div class="code python highlight-python"><div class="highlight"><pre>from matplotlib.pyplot import *
%matplotlib inline
fig=figure(figsize=(10,5))
C.L.display[&#39;nodes&#39;]=False
C.L.display[&#39;ednodes&#39;]=False
f,a = C.show(fig=fig)
</pre></div>
</div>
<img alt="../../_images/Coverage_15_0.png" src="../../_images/Coverage_15_0.png" />
<p>The shadowing map coverage results can be displayed by invoquing various
functions.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;pr&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Coverage_17_0.png" src="../../_images/Coverage_17_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;pr&#39;</span><span class="p">,</span><span class="n">f</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Coverage_18_0.png" src="../../_images/Coverage_18_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;pr&#39;</span><span class="p">,</span><span class="n">f</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Coverage_19_0.png" src="../../_images/Coverage_19_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;best&#39;</span><span class="p">,</span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Coverage_20_0.png" src="../../_images/Coverage_20_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;best&#39;</span><span class="p">,</span><span class="n">f</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/Coverage_21_0.png" src="../../_images/Coverage_21_0.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">f</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;sinr&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>(&lt;matplotlib.figure.Figure at 0x7f58c9a66a50&gt;,
 &lt;matplotlib.axes.AxesSubplot at 0x7f58cb7a4710&gt;)
</pre></div>
</div>
<img alt="../../_images/Coverage_22_1.png" src="../../_images/Coverage_22_1.png" />
<p>As you have noticed the calculation has been done for all the center
frequencies of the selected standard. This is done in prevision of
further channel optimizations.</p>
<p>Let&#8217;s consider an other standard</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C2</span> <span class="o">=</span> <span class="n">Coverage</span><span class="p">(</span><span class="s">&#39;coverage2.ini&#39;</span><span class="p">)</span>
<span class="n">C2</span><span class="o">.</span><span class="n">cover</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C2</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">ftyp</span><span class="o">=</span><span class="s">&#39;pr&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>(&lt;matplotlib.figure.Figure at 0x7f58c9a0fa50&gt;,
 &lt;matplotlib.axes.AxesSubplot at 0x7f58c9459590&gt;)
</pre></div>
</div>
<img alt="../../_images/Coverage_26_1.png" src="../../_images/Coverage_26_1.png" />
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C</span><span class="o">.</span><span class="n">snro</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">fig</span><span class="o">=</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">f</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">typ</span><span class="o">=</span><span class="s">&#39;capacity&#39;</span><span class="p">,</span><span class="n">dB</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>(&lt;matplotlib.figure.Figure at 0x7f58c95295d0&gt;,
 &lt;matplotlib.axes.AxesSubplot at 0x7f58c9529d90&gt;)
</pre></div>
</div>
<img alt="../../_images/Coverage_28_1.png" src="../../_images/Coverage_28_1.png" />
<p>All simulated quantities are stored in linear scale.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C2</span><span class="o">.</span><span class="n">Lwo</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">0.078045027166146197</span>
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">C2</span><span class="o">.</span><span class="n">freespace</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">6.7682907399583888e-07</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">PyLayers Home </a> |&nbsp;</li>
        <li><a href="../index.html">Documentation </a> |&nbsp;</li>
        <li><a href="../../download.html">Download </a> |&nbsp; </li>
        <li><a href="https://github.com/pylayers/">Developer (Github)</a> </li>
 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2015, PyLayers developer team.
      Last updated on févr. 28, 2015.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34943220-1']);
  _gaq.push(['_setDomainName', 'pylayers.github.io']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })(); 
</script> 
 
  </body>
</html>