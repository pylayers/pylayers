

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Table Of Content &mdash; PyLayers</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../../about.html"/>
    <link rel="top" title="PyLayers" href="../../index.html"/>
        <link rel="up" title="1   Overview" href="../TOC.html"/>
        <link rel="next" title="TC1 METIS Scenario" href="../2-AP/MetisRayTracing60GHzforTC1.html"/>
        <link rel="prev" title="Handling Body Description and Mobility" href="../4-MOB/Body.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Python
          

          
            
            <img src="../../_static/pylayers.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#basic-usage">2&nbsp;&nbsp;&nbsp;Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#environment-description">3&nbsp;&nbsp;&nbsp;Environment Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#materials-and-slabs">4&nbsp;&nbsp;&nbsp;Materials and Slabs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#description-of-antennas">5&nbsp;&nbsp;&nbsp;Description of Antennas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#coverage-simulation">6&nbsp;&nbsp;&nbsp;Coverage Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#ray-tracing-simulation">7&nbsp;&nbsp;&nbsp;Ray Tracing Simulation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../TOC.html#handling-agent-mobility">8&nbsp;&nbsp;&nbsp;Handling Agent Mobility</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="SimulNetConfig.html">Network Simulation Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4-MOB/Mobility.html">Trajectory and Network simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4-MOB/Body.html">Handling Body Description and Mobility</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Table Of Content</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cormoran-measurement-campaign">CORMORAN Measurement Campaign</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#motivation-for-creating-a-specific-tool">Motivation for creating a specific tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisite-installations">Prerequisite Installations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-corser-class">The <code class="docutils literal"><span class="pre">CorSer</span></code> Class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plot-values">Plot values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specify-time-bodytime-parameter">Specify time (<em>bodytime</em> parameter)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#display-trajectory-trajectory-parameter">display trajectory (<em>trajectory</em> parameter)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-pylayers-ray-tracing-with-corser-data">Using Pylayers Ray-tracing with CorSer data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#other-simulation-examples">9&nbsp;&nbsp;&nbsp;Other Simulation Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#localization-algorithms">10&nbsp;&nbsp;&nbsp;Localization Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#measurements-tools">11&nbsp;&nbsp;&nbsp;Measurements Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOC.html#pylayers-tools">12&nbsp;&nbsp;&nbsp;PyLayers Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLayout1.html">Loading an outdoor layout from its address</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_antenna.html">Antenna Pattern for an H plane sectoral antenna &#64; 32GHz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLayout2.html">Building graphs of a Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_coverage.html">Indoor Radio Coverage with Motley Keenan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_layout.html">8 Random Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exAbsGas.html">Attenuation due to atmospheric gases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exDLink.html">Evaluation of a radio link DLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_w1.html">Indoor Radio Coverage FP7 WHERE1 M1 setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLuebbers.html">UWB Ray tracing simulation  in outdoor scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_diffraction.html">Diffraction coefficient</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Python</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a> &raquo;</li>
      
    <li>Table Of Content</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/notebook/5-SIM/Corser.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="table-of-content">
<h1>Table Of Content<a class="headerlink" href="#table-of-content" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li><a class="reference external" href="#CORMORAN">CORMORAN Measurement Campaign</a><ol class="arabic">
<li><a class="reference external" href="#Motivation">Motivation for creating a specific tool</a></li>
<li><a class="reference external" href="#pre">Prerequisite installations</a></li>
</ol>
</li>
<li><a class="reference external" href="#CorSer">The CorSer Class</a><ol class="arabic">
<li><a class="reference external" href="#Load">Load Serie</a></li>
<li><a class="reference external" href="#getinfo">Get information on the Series</a></li>
<li><a class="reference external" href="#Available%20Data">Available Data Variable</a><ol class="arabic">
<li><a class="reference external" href="#Radio%20df">Radio DataFrames</a></li>
<li><a class="reference external" href="#Non%20Radio%20df">Non Radio DataFrames</a></li>
<li><a class="reference external" href="#device">Involved Devices</a></li>
</ol>
</li>
<li><a class="reference external" href="#access%20data">Acessing the Data</a><ol class="arabic">
<li><a class="reference external" href="#getdevp">Get Device Position</a></li>
<li><a class="reference external" href="#getlink">Get Link Value</a></li>
<li><a class="reference external" href="#getlinkd">Get Link Distance</a></li>
</ol>
</li>
<li><a class="reference external" href="#vizu">Visualizing the data</a><ol class="arabic">
<li><a class="reference external" href="#pandas">Native Pandas Vizualization</a></li>
<li><a class="reference external" href="#plot">Plot Method</a></li>
<li><a class="reference external" href="#plotvisi">Plot Visibility Method</a></li>
<li><a class="reference external" href="#plotmob">Plot Mobility Method</a></li>
<li><a class="reference external" href="#3Dplot">3D plot</a></li>
<li><a class="reference external" href="#3Dploti">3D plot interactively</a></li>
<li><a class="reference external" href="#visii">3D Interrative Visibility</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<div class="code highlight-none"><div class="highlight"><pre><span></span>%matplotlib inline
import  pylayers.util.mayautil as myu
</pre></div>
</div>
<div class="section" id="cormoran-measurement-campaign">
<h2>CORMORAN Measurement Campaign<a class="headerlink" href="#cormoran-measurement-campaign" title="Permalink to this headline">¶</a></h2>
<p>The CORMORAN measurement campaign is the first known campaign in the
WBAN context gathering :</p>
<ul class="simple">
<li>3 differents radio technologies (HiKoB, CEA plateform and Beespoon
phone)</li>
<li>Up to 24 radio devices equiped on a single body</li>
<li>A precise capture of the radio device and body movement using a Vicon
motion capture (MOCAP) system.</li>
<li>A perfect knowledge of the capture environement</li>
<li>58 Series with capture or group navigation scenarios</li>
</ul>
<p>One of the main characteristics of this measurement campaign is the use
of a precise motion capture system which allows to get a ground truth
position of any radio device which make the radio observable values open
to insightful interpretation.</p>
</div>
</div>
<div class="section" id="motivation-for-creating-a-specific-tool">
<h1>Motivation for creating a specific tool<a class="headerlink" href="#motivation-for-creating-a-specific-tool" title="Permalink to this headline">¶</a></h1>
<p>In order to exploit the CORMORAN measurement campaign, a dedicated tool
has been envisaged. Regarding that one aim of the CORMORAN project
(<a class="reference external" href="http://pylayers.github.io/pylayers/cormoran.html">http://pylayers.github.io/pylayers/cormoran.html</a>) is to provide a
simulation plateform from the Channel to the MAC Layer, the tool
natturally takes place inside the PyLayers plateform.</p>
<p>This specific tool creation has been motivated by the intrinsec
complexity of the the measurement campaign. First, no existing tool are
able to exploit simultaneously the radio and MOCAP information from the
measures.</p>
<p>The co-existence of 3 different radio technologies implies 3 different
file formats which have to be interpreted and combined together to be
exploitable. However, the motion capture, and the 3 differents radio
acces technologies (RAT) operating at different sample rate, which leads
to manipulating 4 different time basis. As well, no automatic
start-synchronization mechanism was availble between the different
technologies which leads to a non systematic time shift between the
different basis.</p>
<p>Finally the aim of a measurement campaign is to easily provide valuable
and exploitable information for the project members and more generally
by people in the research community. The goal of such a tool is to help
and simplify dissemination.</p>
</div>
<div class="section" id="prerequisite-installations">
<h1>Prerequisite Installations<a class="headerlink" href="#prerequisite-installations" title="Permalink to this headline">¶</a></h1>
<p>Before starting using this tool, some requirements have to be satisfied.</p>
<ol class="arabic simple">
<li>The open source platform PyLayers ( <a class="reference external" href="http://www.pylayers.org">http://www.pylayers.org</a> ) has to
be installed following the installation notes here:
<a class="reference external" href="https://github.com/pylayers/pylayers/blob/master/INSTALL.txt">https://github.com/pylayers/pylayers/blob/master/INSTALL.txt</a></li>
<li>The CORMORAN measurements have to be downloaded from the gitlab
repository</li>
<li>An environement variable $CORMORAN has to be set at the root of your
CORMORAN measurements directory (help about setup of environement
variables can be found in pylayers&#8217; INSTALL.txt</li>
</ol>
<p>Once those 3 steps are satisfied, the CORMORAN exploitation measure tool
is ready to be used.</p>
<div class="section" id="the-corser-class">
<h2>The <code class="docutils literal"><span class="pre">CorSer</span></code> Class<a class="headerlink" href="#the-corser-class" title="Permalink to this headline">¶</a></h2>
<p>The exploitation of measures tool takes place as a specific class named
CorSer (which stands for Cormoran Series). Once PyLayers has been
installed, it is possible to directly access to the class by importing
it.</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>   from pylayers.measures.cormoran import *

Get information on the Series
</pre></div>
</div>
<hr class="docutils" />
<p>Before creating the CorSer object it is possible to consult the
available measurements series using <em>cor_log()</em>. Then for each
<strong>serie</strong> of a given <strong>day</strong> it is possible to get:</p>
<ul class="simple">
<li>The involved subject(s)</li>
<li>The radio technology</li>
<li>A short description of the serie</li>
</ul>
<div class="code highlight-none"><div class="highlight"><pre><span></span>cor_log()
</pre></div>
</div>
   <div>
   <style>
       .dataframe thead tr:only-child th {
           text-align: right;
       }

       .dataframe thead th {
           text-align: left;
       }

       .dataframe tbody tr th {
           vertical-align: top;
       }
   </style>
   <table border="1" class="dataframe">
     <thead>
       <tr style="text-align: right;">
         <th></th>
         <th>serie</th>
         <th>day</th>
         <th>Subject</th>
         <th>techno</th>
         <th>Short Notes</th>
       </tr>
     </thead>
     <tbody>
       <tr>
         <th>0</th>
         <td>1</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>1</th>
         <td>2</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>2</th>
         <td>3</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>3</th>
         <td>4</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>4</th>
         <td>5</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>5</th>
         <td>6</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>6</th>
         <td>7</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>7</th>
         <td>8</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>8</th>
         <td>9</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>INTERRUPTED  Subject Walk circularly ++ speed</td>
       </tr>
       <tr>
         <th>9</th>
         <td>10</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly ++ speed</td>
       </tr>
       <tr>
         <th>10</th>
         <td>11</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly ++ speed</td>
       </tr>
       <tr>
         <th>11</th>
         <td>12</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Subject Walk circularly ++ speed</td>
       </tr>
       <tr>
         <th>12</th>
         <td>13</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly without looking BS pho...</td>
       </tr>
       <tr>
         <th>13</th>
         <td>14</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly + Navigation movement</td>
       </tr>
       <tr>
         <th>14</th>
         <td>15</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk slowly without looking BS phone h...</td>
       </tr>
       <tr>
         <th>15</th>
         <td>16</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk slowly without looking BS phone h...</td>
       </tr>
       <tr>
         <th>16</th>
         <td>17</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Static subject pointing corners then yoga post...</td>
       </tr>
       <tr>
         <th>17</th>
         <td>18</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Static subject pointing corners then yoga post...</td>
       </tr>
       <tr>
         <th>18</th>
         <td>19</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Static subject pointing corners then yoga post...</td>
       </tr>
       <tr>
         <th>19</th>
         <td>20</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Static subject pointing corners then yoga post...</td>
       </tr>
       <tr>
         <th>20</th>
         <td>21</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Static subject pointing corners (withphone) th...</td>
       </tr>
       <tr>
         <th>21</th>
         <td>22</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Static subject pointing corners (withphone) th...</td>
       </tr>
       <tr>
         <th>22</th>
         <td>23</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>INTERRUPTED Static subject pointing corners (w...</td>
       </tr>
       <tr>
         <th>23</th>
         <td>24</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Static subject pointing corners (withphone) th...</td>
       </tr>
       <tr>
         <th>24</th>
         <td>25</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Kung-fu Kata</td>
       </tr>
       <tr>
         <th>25</th>
         <td>26</td>
         <td>11</td>
         <td>Bernard</td>
         <td>TCR</td>
         <td>Kung-fu Kata with lost sensor</td>
       </tr>
       <tr>
         <th>26</th>
         <td>27</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>subject open door, sit, type on leyboard, take...</td>
       </tr>
       <tr>
         <th>27</th>
         <td>28</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>subject open door, sit, type on leyboard, take...</td>
       </tr>
       <tr>
         <th>28</th>
         <td>29</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Crossfade Yoga Posture with  phone BS left hand</td>
       </tr>
       <tr>
         <th>29</th>
         <td>30</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Crossfade SLOW Yoga Posture with  phone BS lef...</td>
       </tr>
       <tr>
         <th>30</th>
         <td>31</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>HKB+BS</td>
         <td>Subject Walk circularly</td>
       </tr>
       <tr>
         <th>31</th>
         <td>32</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>TCR+HKB+BS</td>
         <td>3 turns  circularly inc. speed sequentially</td>
       </tr>
       <tr>
         <th>32</th>
         <td>33</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>TCR+HKB+BS</td>
         <td>3 turns  circularly inc. speed sequentially</td>
       </tr>
       <tr>
         <th>33</th>
         <td>34</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>TCR+HKB+BS</td>
         <td>3 turns  circularly inc. Speed + muscle-buildi...</td>
       </tr>
       <tr>
         <th>34</th>
         <td>35</td>
         <td>11</td>
         <td>Nicolas</td>
         <td>TCR+HKB+BS</td>
         <td>3 turns  circularly inc. Speed + muscle-buildi...</td>
       </tr>
       <tr>
         <th>35</th>
         <td>1</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>DATA ISSUE 3 FireMen Nav</td>
       </tr>
       <tr>
         <th>36</th>
         <td>2</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>3 FireMen Nav (possible mocap issue)</td>
       </tr>
       <tr>
         <th>37</th>
         <td>3</td>
         <td>12</td>
         <td>Nicolas jihad Eric</td>
         <td>TCR</td>
         <td>3 FireMen Nav (possible mocap issue)</td>
       </tr>
       <tr>
         <th>38</th>
         <td>4</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>INTERRUPTED 3 FireMen Nav</td>
       </tr>
       <tr>
         <th>39</th>
         <td>5</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>40</th>
         <td>6</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>41</th>
         <td>7</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>subjects slow Random walk + interfering subjec...</td>
       </tr>
       <tr>
         <th>42</th>
         <td>8</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR</td>
         <td>subjects slow Random walk + interfering subjec...</td>
       </tr>
       <tr>
         <th>43</th>
         <td>9</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>Subject??Slow motion: Indoor Nav then Firemen t...</td>
       </tr>
       <tr>
         <th>44</th>
         <td>10</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>Subject??Slow motion: Indoor Nav then Firemen t...</td>
       </tr>
       <tr>
         <th>45</th>
         <td>11</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>Subject??normal speed: Indoor Nav then Firemen ...</td>
       </tr>
       <tr>
         <th>46</th>
         <td>12</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>Subject??normal speed: Indoor Nav then Firemen ...</td>
       </tr>
       <tr>
         <th>47</th>
         <td>13</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>48</th>
         <td>14</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>49</th>
         <td>15</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>50</th>
         <td>16</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>TCR+HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>51</th>
         <td>17</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>NO HKB Subject??normal speed: Indoor Nav then F...</td>
       </tr>
       <tr>
         <th>52</th>
         <td>18</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>NO HKB Subject??normal speed: Indoor Nav then F...</td>
       </tr>
       <tr>
         <th>53</th>
         <td>19</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>NO HKB Subject??normal speed: Indoor Nav then F...</td>
       </tr>
       <tr>
         <th>54</th>
         <td>20</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>NO HKB Subject??normal speed: Indoor Nav then F...</td>
       </tr>
       <tr>
         <th>55</th>
         <td>21</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>56</th>
         <td>22</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>57</th>
         <td>23</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
       <tr>
         <th>58</th>
         <td>24</td>
         <td>12</td>
         <td>Nicolas Jihad Eric</td>
         <td>HKB+BS</td>
         <td>subjects Random walk + new interfering subject...</td>
       </tr>
     </tbody>
   </table>
   </div>



Load Serie<hr class="docutils" />
<p>As an example, serie 6 from day 11 can be loaded using the following
command:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S=CorSer(serie=6,day=11,layout=True)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>load infrastructure node position: **** Processor coding : Intel-PC
(&#39;3GPP_omni.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_omni.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_omni.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_omni.sh3&#39;, &#39; does not exist&#39;)

load  Nicolas  body: **** Processor coding : Intel-PC
(&#39;3GPP_HeadRight_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_WristLeft_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_WristRight_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_ElbowLeft_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_ElbowRight_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_KneeLeft_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_AnkleLeft_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_AnkleRight_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_HipRight_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_BackCenter_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_TorsoTopLeft_3.sh3&#39;, &#39; does not exist&#39;)
(&#39;3GPP_TorsoTopRight_3.sh3&#39;, &#39; does not exist&#39;)

BS data frame index:  Align on mocap OK... time-offset applied OK

HKB data frame index: Align on mocap OK... time-offset applied OK

Create distance Dataframe... OK
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>/home/uguen/Documents/rch/devel/pylayers/pylayers/measures/cormoran.py:5268: FutureWarning: fill_method is deprecated to .resample()
the new syntax is .resample(...).ffill()
  df = idf.resample(str(sf)+&#39;U&#39;,fill_method=&#39;ffill&#39;)
</pre></div>
</div>
<p>Once loaded information about the serie (date, type, ...) can be
obtained just by calling the object itself:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S
</pre></div>
</div>
<pre class="literal-block">
   filename : Sc20_S6_R2_HKBS
   filewear : /home/uguen/data/CORMORAN/cormoran-measures/POST-TREATED/11-06-2014/BodyandWear/Nicolas_11-06-2014_HKBS.ini
   filebody : /home/uguen/data/CORMORAN/cormoran-measures/POST-TREATED/11-06-2014/BodyandWear/Nicolas.ini
   filemocap : /home/uguen/data/CORMORAN/cormoran-measures/RAW/11-06-2014/MOCAP/serie_006.c3d
   Day : 11/06/2014
   Serie : 6
   Scenario : 20
   Run : 2
   Type : HKBS
   Original Video Id : Single
   Subject(s) : Nicolas

   Body available: True

   BeSPoon : Sc20_S6_R2_HKBS.csv
   HIKOB : Sc2_0_S6_r2_HKB_Single.mat
   ----------------------

   VC file :[6]
   Scenario :['2.0']
   Meas Serie :[6]
   Meas Run :[2]
   Subject :['Nicolas']
   techno :['HKB+BS']
   video file :[ nan]
   photo file :['100-0040']
   Radio file :['SC2.0_S6_R2_HKB_single']
   Date :['11/06/14']
   Start time :['16:12']
   Short Notes :['Subject Walk circularly']
   notes pendant mesures :['mxc3xaame chose ras ']



Available data
</pre>
<hr class="docutils" />
<blockquote>
<div>Radio DataFrames</div></blockquote>
<hr class="docutils" />
<p>Data frames are <em>Pandas</em> objects which can be interpreted as tables.</p>
<ul class="simple">
<li>Each line correspond a given timestamp</li>
<li>Each column correspond to a given link between 2 radio devices</li>
</ul>
<p>Depending on available RAT involved in the serie, different data frames
are available:</p>
<ul class="simple">
<li>HiKoB (HKB) data : <em>S.hkb</em></li>
<li>BeSpoon data : <em>S.bespo</em></li>
<li>TCR data : <em>S.tcr</em></li>
</ul>
<p>In the example serie chosen, only HiKoB and Bespoon are available.</p>
<p>Here is an example of the RSS values obtained by the HKB sensors for the
120 available links and the 5 first available timestamp :</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.hkb.head(5)
</pre></div>
</div>
   <div>
   <style>
       .dataframe thead tr:only-child th {
           text-align: right;
       }

       .dataframe thead th {
           text-align: left;
       }

       .dataframe tbody tr th {
           vertical-align: top;
       }
   </style>
   <table border="1" class="dataframe">
     <thead>
       <tr style="text-align: right;">
         <th></th>
         <th>AP1-AP2</th>
         <th>AP1-AP3</th>
         <th>AP1-AP4</th>
         <th>AP1-HeadRight</th>
         <th>AP1-TorsoTopRight</th>
         <th>AP1-TorsoTopLeft</th>
         <th>AP1-BackCenter</th>
         <th>AP1-ElbowRight</th>
         <th>AP1-ElbowLeft</th>
         <th>AP1-HipRight</th>
         <th>...</th>
         <th>WristRight-WristLeft</th>
         <th>WristRight-KneeLeft</th>
         <th>WristRight-AnkleLeft</th>
         <th>WristRight-AnkleRight</th>
         <th>WristLeft-KneeLeft</th>
         <th>WristLeft-AnkleLeft</th>
         <th>WristLeft-AnkleRight</th>
         <th>KneeLeft-AnkleLeft</th>
         <th>KneeLeft-AnkleRight</th>
         <th>AnkleLeft-AnkleRight</th>
       </tr>
     </thead>
     <tbody>
       <tr>
         <th>0.00</th>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>...</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
       </tr>
       <tr>
         <th>0.01</th>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>...</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
       </tr>
       <tr>
         <th>0.02</th>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>...</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
         <td>NaN</td>
       </tr>
       <tr>
         <th>0.03</th>
         <td>-60.0</td>
         <td>-64.0</td>
         <td>-61.0</td>
         <td>-71.0</td>
         <td>-81.0</td>
         <td>-73.0</td>
         <td>-78.0</td>
         <td>-79.0</td>
         <td>-84.0</td>
         <td>-73.0</td>
         <td>...</td>
         <td>-64.0</td>
         <td>-88.0</td>
         <td>-64.0</td>
         <td>-55.0</td>
         <td>-63.0</td>
         <td>-61.0</td>
         <td>-77.0</td>
         <td>-60.0</td>
         <td>-84.0</td>
         <td>-79.0</td>
       </tr>
       <tr>
         <th>0.04</th>
         <td>-60.0</td>
         <td>-64.0</td>
         <td>-61.0</td>
         <td>-71.0</td>
         <td>-81.0</td>
         <td>-73.0</td>
         <td>-78.0</td>
         <td>-79.0</td>
         <td>-84.0</td>
         <td>-73.0</td>
         <td>...</td>
         <td>-64.0</td>
         <td>-88.0</td>
         <td>-64.0</td>
         <td>-55.0</td>
         <td>-63.0</td>
         <td>-61.0</td>
         <td>-77.0</td>
         <td>-60.0</td>
         <td>-84.0</td>
         <td>-79.0</td>
       </tr>
     </tbody>
   </table>
   <p>5 rows ?? 120 columns</p>
   </div>



Non Radio DataFrames<hr class="docutils" />
<p>Extra data frames are also available to acces to non radio information.
In particular, it exists :</p>
<ul class="simple">
<li><em>S.devdf</em>: the device dataframe, which gives mechanical information:
position (x,y,z), velocity (v,vx,vy,vz) and acceleration (a,ax,ay,az)
of the devices at any time stamps</li>
<li><em>S.distdf</em>: the distance data frame, which gives ground truth
distances between the different radio links.</li>
</ul>
<p>Here is the 5 last data of the device data frame...</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.devdf.tail(5)
</pre></div>
</div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>subject</th>
      <th>x</th>
      <th>y</th>
      <th>z</th>
      <th>v</th>
      <th>vx</th>
      <th>vy</th>
      <th>vz</th>
      <th>a</th>
      <th>ax</th>
      <th>ay</th>
      <th>az</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>104.19</th>
      <td>HKB:14</td>
      <td>Nicolas</td>
      <td>0.158588</td>
      <td>-1.574102</td>
      <td>0.526740</td>
      <td>0.012376</td>
      <td>-0.005046</td>
      <td>0.010522</td>
      <td>0.004120</td>
      <td>2.242279</td>
      <td>1.973267</td>
      <td>0.738525</td>
      <td>0.767212</td>
    </tr>
    <tr>
      <th>104.19</th>
      <td>HKB:1</td>
      <td></td>
      <td>0.018552</td>
      <td>-2.749937</td>
      <td>0.979166</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>104.19</th>
      <td>HKB:16</td>
      <td>Nicolas</td>
      <td>-0.229677</td>
      <td>-1.445404</td>
      <td>0.175125</td>
      <td>0.010564</td>
      <td>-0.007414</td>
      <td>-0.006641</td>
      <td>-0.003540</td>
      <td>0.547866</td>
      <td>0.122223</td>
      <td>-0.250244</td>
      <td>-0.471802</td>
    </tr>
    <tr>
      <th>104.19</th>
      <td>HKB:10</td>
      <td>Nicolas</td>
      <td>0.262695</td>
      <td>-1.433168</td>
      <td>1.143153</td>
      <td>0.057834</td>
      <td>-0.048334</td>
      <td>-0.030042</td>
      <td>-0.010303</td>
      <td>0.924481</td>
      <td>-0.697327</td>
      <td>0.368652</td>
      <td>-0.482178</td>
    </tr>
    <tr>
      <th>104.19</th>
      <td>HKB:3</td>
      <td></td>
      <td>0.021135</td>
      <td>3.375590</td>
      <td>1.003871</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div><p>... and the 5 last data of the distance data frame:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.distdf.tail(5)
</pre></div>
</div>
   <div>
   <style>
       .dataframe thead tr:only-child th {
           text-align: right;
       }

       .dataframe thead th {
           text-align: left;
       }

       .dataframe tbody tr th {
           vertical-align: top;
       }
   </style>
   <table border="1" class="dataframe">
     <thead>
       <tr style="text-align: right;">
         <th></th>
         <th>HKB:1-HKB:2</th>
         <th>HKB:1-HKB:3</th>
         <th>HKB:1-HKB:4</th>
         <th>HKB:1-HKB:5</th>
         <th>HKB:1-HKB:6</th>
         <th>HKB:1-HKB:7</th>
         <th>HKB:1-HKB:8</th>
         <th>HKB:1-HKB:9</th>
         <th>HKB:1-HKB:10</th>
         <th>HKB:1-HKB:11</th>
         <th>...</th>
         <th>HKB:12-HKB:15</th>
         <th>HKB:12-HKB:16</th>
         <th>HKB:13-HKB:14</th>
         <th>HKB:13-HKB:15</th>
         <th>HKB:13-HKB:16</th>
         <th>HKB:14-HKB:15</th>
         <th>HKB:14-HKB:16</th>
         <th>HKB:15-HKB:16</th>
         <th>BS:0-BS:74</th>
         <th>BS:0-BS:157</th>
       </tr>
     </thead>
     <tbody>
       <tr>
         <th>104.15</th>
         <td>6.102589</td>
         <td>6.125578</td>
         <td>6.135849</td>
         <td>1.308815</td>
         <td>1.163639</td>
         <td>1.131707</td>
         <td>1.387571</td>
         <td>1.322510</td>
         <td>1.350930</td>
         <td>1.223406</td>
         <td>...</td>
         <td>1.071233</td>
         <td>0.990922</td>
         <td>0.411064</td>
         <td>0.753501</td>
         <td>0.910143</td>
         <td>0.364396</td>
         <td>0.539795</td>
         <td>0.445009</td>
         <td>1.046829</td>
         <td>0.119864</td>
       </tr>
       <tr>
         <th>104.16</th>
         <td>6.102589</td>
         <td>6.125578</td>
         <td>6.135849</td>
         <td>1.309074</td>
         <td>1.163713</td>
         <td>1.131587</td>
         <td>1.387549</td>
         <td>1.322884</td>
         <td>1.350486</td>
         <td>1.223658</td>
         <td>...</td>
         <td>1.071489</td>
         <td>0.990873</td>
         <td>0.410944</td>
         <td>0.753502</td>
         <td>0.909901</td>
         <td>0.364396</td>
         <td>0.539682</td>
         <td>0.445027</td>
         <td>1.046903</td>
         <td>0.119868</td>
       </tr>
       <tr>
         <th>104.17</th>
         <td>6.102589</td>
         <td>6.125578</td>
         <td>6.135849</td>
         <td>1.309470</td>
         <td>1.163938</td>
         <td>1.131414</td>
         <td>1.387530</td>
         <td>1.323230</td>
         <td>1.350018</td>
         <td>1.223874</td>
         <td>...</td>
         <td>1.071624</td>
         <td>0.990832</td>
         <td>0.410933</td>
         <td>0.753522</td>
         <td>0.909759</td>
         <td>0.364316</td>
         <td>0.539533</td>
         <td>0.445038</td>
         <td>1.046936</td>
         <td>0.119734</td>
       </tr>
       <tr>
         <th>104.18</th>
         <td>6.102589</td>
         <td>6.125578</td>
         <td>6.135849</td>
         <td>1.309873</td>
         <td>1.164064</td>
         <td>1.131319</td>
         <td>1.387509</td>
         <td>1.323601</td>
         <td>1.349608</td>
         <td>1.224129</td>
         <td>...</td>
         <td>1.071955</td>
         <td>0.990734</td>
         <td>0.410871</td>
         <td>0.753529</td>
         <td>0.909520</td>
         <td>0.364281</td>
         <td>0.539368</td>
         <td>0.445063</td>
         <td>1.047000</td>
         <td>0.119982</td>
       </tr>
       <tr>
         <th>104.19</th>
         <td>6.102589</td>
         <td>6.125578</td>
         <td>6.135849</td>
         <td>1.310357</td>
         <td>1.164289</td>
         <td>1.131228</td>
         <td>1.387509</td>
         <td>1.323915</td>
         <td>1.349214</td>
         <td>1.224341</td>
         <td>...</td>
         <td>1.072294</td>
         <td>0.990736</td>
         <td>0.410651</td>
         <td>0.753482</td>
         <td>0.909291</td>
         <td>0.364271</td>
         <td>0.539394</td>
         <td>0.445110</td>
         <td>1.046967</td>
         <td>0.119830</td>
       </tr>
     </tbody>
   </table>
   <p>5 rows ?? 122 columns</p>
   </div>



Involved devices (*S.dev*)<hr class="docutils" />
<p>The <em>S.dev</em> command allows to obtain the complete list of devices
involved in the serie and:</p>
<ul class="simple">
<li>the Name of the device used in the radio dataframe</li>
<li>the Real device Id used during the measurement campaign</li>
<li>The corresponding device Id used on the Body wear description</li>
<li>At wich Subject the device is related.</li>
</ul>
<p>Infrastrucure access point obviously don&#8217;t have related Subject.</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.dev
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>   Name in Dataframe     | Real Id | Body Id  | Subject
   ========================================================
   AP4                   |       4 | HKB:4    |
   AP1                   |       1 | HKB:1    |
   AP2                   |       2 | HKB:2    |
   AP3                   |       3 | HKB:3    |
   --------------------------------------------------------
   AnkleRight            |      16 | HKB:16   | Nicolas
   KneeLeft              |      14 | HKB:14   | Nicolas
   AnkleLeft             |      15 | HKB:15   | Nicolas
   WristRight            |      12 | HKB:12   | Nicolas
   WristLeft             |      13 | HKB:13   | Nicolas
   ElbowLeft             |      10 | HKB:10   | Nicolas
   HipRight              |      11 | HKB:11   | Nicolas
   HeadRight             |       5 | HKB:5    | Nicolas
   TorsoTopRight         |       6 | HKB:6    | Nicolas
   TorsoTopLeft          |       7 | HKB:7    | Nicolas
   BackCenter            |       8 | HKB:8    | Nicolas
   ElbowRight            |       9 | HKB:9    | Nicolas
                         |         |          |
   WristRight            |     157 | BS:157   | Nicolas
   AnkleRight            |      74 | BS:74    | Nicolas
   HandRight             |       0 | BS:0     | Nicolas
   --------------------------------------------------------


Accessing the data
</pre></div>
</div>
<hr class="docutils" />
<p>In order to help people not familiar with the Pandas query format, some
useful methods are provided in order to extract values from radio and
non radio dataframes.</p>
<blockquote>
<div>### Get device position (<em>S.getdevp</em>)</div></blockquote>
<p>The value of the device position at a specific time or range or time can
be obtained by specifying:</p>
<ul class="simple">
<li>The device (Name in dataframe OR real id OR body id)</li>
<li>The radio <em>techno</em> (Precising the techno is optional except when an
ambiguity occurs, therefore error is raised)</li>
<li>a given time in second or a [start time,stop time]. If no time is
given, the position for all time stamps are provided</li>
</ul>
<p>Hence, It is possible to get the positions of the HKB radio node 11 (Hip
Right), between 5.0 seconds and 5.2 seconds with:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>Positions = S.getdevp(11,t=[5,5.2])
Positions
</pre></div>
</div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>z</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5.00</th>
      <td>-0.139566</td>
      <td>0.224905</td>
      <td>1.016796</td>
    </tr>
    <tr>
      <th>5.01</th>
      <td>-0.139553</td>
      <td>0.224845</td>
      <td>1.016826</td>
    </tr>
    <tr>
      <th>5.02</th>
      <td>-0.139545</td>
      <td>0.224825</td>
      <td>1.016818</td>
    </tr>
    <tr>
      <th>5.03</th>
      <td>-0.139564</td>
      <td>0.224730</td>
      <td>1.016849</td>
    </tr>
    <tr>
      <th>5.04</th>
      <td>-0.139609</td>
      <td>0.224642</td>
      <td>1.016859</td>
    </tr>
    <tr>
      <th>5.05</th>
      <td>-0.139580</td>
      <td>0.224613</td>
      <td>1.016898</td>
    </tr>
    <tr>
      <th>5.06</th>
      <td>-0.139554</td>
      <td>0.224586</td>
      <td>1.016920</td>
    </tr>
    <tr>
      <th>5.07</th>
      <td>-0.139604</td>
      <td>0.224492</td>
      <td>1.016937</td>
    </tr>
    <tr>
      <th>5.08</th>
      <td>-0.139545</td>
      <td>0.224452</td>
      <td>1.016989</td>
    </tr>
    <tr>
      <th>5.09</th>
      <td>-0.139521</td>
      <td>0.224391</td>
      <td>1.016992</td>
    </tr>
    <tr>
      <th>5.10</th>
      <td>-0.139386</td>
      <td>0.224397</td>
      <td>1.016997</td>
    </tr>
    <tr>
      <th>5.11</th>
      <td>-0.139296</td>
      <td>0.224315</td>
      <td>1.017041</td>
    </tr>
    <tr>
      <th>5.12</th>
      <td>-0.139164</td>
      <td>0.224189</td>
      <td>1.017098</td>
    </tr>
    <tr>
      <th>5.13</th>
      <td>-0.138988</td>
      <td>0.224128</td>
      <td>1.017131</td>
    </tr>
    <tr>
      <th>5.14</th>
      <td>-0.138810</td>
      <td>0.224048</td>
      <td>1.017142</td>
    </tr>
    <tr>
      <th>5.15</th>
      <td>-0.138605</td>
      <td>0.223969</td>
      <td>1.017148</td>
    </tr>
    <tr>
      <th>5.16</th>
      <td>-0.138406</td>
      <td>0.223877</td>
      <td>1.017164</td>
    </tr>
    <tr>
      <th>5.17</th>
      <td>-0.138043</td>
      <td>0.223803</td>
      <td>1.017230</td>
    </tr>
    <tr>
      <th>5.18</th>
      <td>-0.137791</td>
      <td>0.223654</td>
      <td>1.017305</td>
    </tr>
    <tr>
      <th>5.19</th>
      <td>-0.137388</td>
      <td>0.223580</td>
      <td>1.017321</td>
    </tr>
    <tr>
      <th>5.20</th>
      <td>-0.137016</td>
      <td>0.223465</td>
      <td>1.017342</td>
    </tr>
  </tbody>
</table>
</div><p><strong>NOTE : You may also obtain a classical numpy array instead of this
Pandas object by using the &#8220;*values*&#8221; method :</strong></p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>Positions.values
</pre></div>
</div>
<pre class="literal-block">
   array([[-0.13956557,  0.22490462,  1.01679608],
          [-0.13955284,  0.22484492,  1.01682581],
          [-0.13954524,  0.22482529,  1.01681787],
          [-0.1395645 ,  0.2247298 ,  1.01684918],
          [-0.13960907,  0.224642  ,  1.01685901],
          [-0.13957962,  0.2246127 ,  1.01689801],
          [-0.13955351,  0.22458575,  1.01691986],
          [-0.13960399,  0.22449205,  1.01693719],
          [-0.13954485,  0.22445244,  1.01698865],
          [-0.13952087,  0.22439058,  1.0169917 ],
          [-0.13938625,  0.22439655,  1.0169975 ],
          [-0.13929645,  0.22431535,  1.01704102],
          [-0.13916449,  0.22418907,  1.0170979 ],
          [-0.1389884 ,  0.22412761,  1.01713135],
          [-0.13880983,  0.22404759,  1.0171424 ],
          [-0.13860497,  0.22396939,  1.01714777],
          [-0.1384055 ,  0.22387668,  1.01716443],
          [-0.13804305,  0.22380293,  1.01722955],
          [-0.13779123,  0.2236543 ,  1.01730511],
          [-0.13738791,  0.22358025,  1.01732141],
          [-0.13701614,  0.22346536,  1.01734192]])



Get link value (<em>S.getlink</em>)
</pre>
<hr class="docutils" />
<p>The value of a link <em>a</em> and <em>b</em> at a specific time or range or time can
be obtained by specifying:</p>
<ul class="simple">
<li>The device <span class="math">\(a\)</span> (Name in dataframe OR real id OR body id)</li>
<li>The device <span class="math">\(b\)</span> (Name in dataframe OR real id OR body id)</li>
<li>The radio <em>technoa</em> and <em>technob</em> (Precising the techno is optional
except when an ambiguity occurs, therefore error is raised)</li>
<li>a given time in second or a [start time,stop time]. If no time is
given, the position for all time stamps are provided</li>
</ul>
<p>Hence, It is possible to get the HKB values between radio node 11 (Hip
Right) and node 16 (Ankle Right) , between 5 seconds and 5.2 seconds
with:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>   Values = S.getlink(11,16,t=[5,5.2])

Get link distance (*S.getlinkd*)
</pre></div>
</div>
<hr class="docutils" />
<p>The ground truth distance separating a device <em>a</em> and device <em>b</em> at a
specific time or range or time can be obtained by specifying:</p>
<ul class="simple">
<li>The device <span class="math">\(a\)</span> (Name in dataframe OR real id OR body id)</li>
<li>The device <span class="math">\(b\)</span> (Name in dataframe OR real id OR body id)</li>
<li>The radio <em>technoa</em> and <em>technob</em> (Precising the techno is optional
except when an ambiguity occurs, therefore error is raised)</li>
<li>a given time in second or a [start time,stop time]. If no time is
given, the position for all time stamps are provided</li>
</ul>
<p>Hence, It is possible to get the HKB values between radio node 11 (Hip
Right) and node 16 (Ankle Right) , between 5 seconds and 5.2 seconds
with:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>   Distances = S.getlinkd(11,16,t=[5,5.2])

Visualizing the Data
</pre></div>
</div>
<hr class="docutils" />
<blockquote>
<div>Native Pandas Vizualization</div></blockquote>
<hr class="docutils" />
<p>Because radio data in CorSer are stored into Pandas objects, convenient
vizualization method are directly available. Most of them can be found
here : <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/visualization.html">http://pandas.pydata.org/pandas-docs/stable/visualization.html</a></p>
<p>As an example, it is possible to plot the previous obtained values and
distance with :</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span># Ploting
ax=Values.plot() #plot values
l=Distances.plot(secondary_y=True,ax=ax) # plot distances on the right side

##Labelling
ax.legend() # add legend box
ax.set_ylabel(&#39;RSS Values (dBm)&#39;) #set left ylabel
ax.right_ax.set_ylabel(&#39;Distances (m)&#39;) #set right ylabel
ax.set_xlabel(&#39;time (s)&#39;) # set xlabel
ax.set_title(&#39;RSS and distance as a function of time&#39;)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;matplotlib.text.Text at 0x7f04e8acea50&gt;
</pre></div>
</div>
<img alt="../../_images/Corser_27_1.png" src="../../_images/Corser_27_1.png" />
<p>In addition, CorSer also provides specific plotting methods which
includes extra features.</p>
<blockquote>
<div>Plot method (S.plot)</div></blockquote>
<hr class="docutils" />
<p>The plot function allows to display the radio values of a link. The main
parameters are always the same:</p>
<ul class="simple">
<li>The device <span class="math">\(a\)</span> (Name in dataframe OR real id OR body id)</li>
<li>The device <span class="math">\(b\)</span> (Name in dataframe OR real id OR body id)</li>
<li>The radio <em>techno</em> (Precising the techno is optional except when an
ambiguity occurs, therefore error is raised)</li>
<li>A given time in second or a [start time,stop time]. If no time is
given, the position for all time stamps are provided</li>
</ul>
<p>More option are availble, please refer to the docstring (<em>S.plot?</em>) for
more information</p>
<div class="section" id="plot-values">
<h3>Plot values<a class="headerlink" href="#plot-values" title="Permalink to this headline">¶</a></h3>
<p>Continuying with the same example, it is possible to plot the HKB values
between radio node 11 (Hip Right) and node 16 (Ankle Right) , between 5
seconds and 5.2 seconds with:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.plot(11,16,t=[5,5.2])
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7f04e8b56f90&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f04e8b6b450&gt;)
</pre></div>
</div>
<img alt="../../_images/Corser_29_1.png" src="../../_images/Corser_29_1.png" />
<div class="section" id="plot-distance">
<h4>Plot distance<a class="headerlink" href="#plot-distance" title="Permalink to this headline">¶</a></h4>
<p>As well, it is possible to plot the distance using the <em>distance</em>
parameter</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.plot(11,16,t=[5,5.2],distance = True)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7f04e8931350&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f04e8946050&gt;)
</pre></div>
</div>
<img alt="../../_images/Corser_31_1.png" src="../../_images/Corser_31_1.png" />
<p>It is also possible to get the same result than with the Pandas
procedure with the following code :</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>#plot value
f,ax = S.plot(11,16,t=[5,5.2],color =&#39;b&#39;,title=False)

# create right axis
ax2=ax.twinx()

# plot distance
S.plot(11,16,t=[5,5.2],color =&#39;g&#39;,title=False,
        distance=True,
        fig=f,ax=ax2)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7f04e88d9890&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f04e8770c50&gt;)
</pre></div>
</div>
<hr class="docutils" />
<p>In order to go further in the radio value interpretation, it is
convenient to have some extra information about the <strong>optical
visibility/occultation</strong> of devices involved in a link.</p>
<p>This information allows to determine the line of sight (LOS) or non line
of sight (NLOS) cases which are crutial for power level and delay
interpretation.</p>
<p>This information can be superimposed to the radio values. To this end,
the plot visibility (<em>S.pltvisi</em>) method is used. The <strong>hatched</strong> area
denoted <strong>NLOS</strong> wheras <strong>clear</strong> area denotes <strong>LOS</strong>.</p>
<p>Parameters are the same than those the <em>plot</em> method:</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>f,ax = S.plot(1,16)
S.pltvisi(1,16,fig=f,ax=ax)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>/home/uguen/Documents/rch/devel/pylayers/pylayers/mobility/ban/body.py:2516: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  C = self.d[:,kta,frameId]
/home/uguen/Documents/rch/devel/pylayers/pylayers/mobility/ban/body.py:2517: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  D = self.d[:,khe,frameId]
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7f04e88e4090&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f04e88788d0&gt;)
</pre></div>
</div>
<hr class="docutils" />
<p>As well it is possible to determine and indicate whether the subject is
static or not by using the plot mobility method (<em>S.pltmob</em>). The
succession of Static and Mobile sequences are denoted <span class="math">\(S_x\)</span> and
<span class="math">\(M_x\)</span> resplectively, where <span class="math">\(x\)</span> is an index of the sequence.</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>f,ax = S.plot(1,16)
S.pltmob(fig=f,ax=ax)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7f04e8583750&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f04e8594790&gt;)
</pre></div>
</div>
<img alt="../../_images/Corser_37_1.png" src="../../_images/Corser_37_1.png" />
<p>The 2 upmentionned methods can also be used simultaneously as shown in
the following example :</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span># plot data in green)
f,ax=S.plthkb(1,13,figsize=(10,5))
# plot optical occultation (hatched lines)
S.pltvisi(1,13,fig=f,ax=ax)
# plot subject mobility (grey areas)
S.pltmob(showvel=False,ylim=([-100,-40]),fig=f,ax=ax)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7f04e85f2790&gt;,
 &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f04e858b4d0&gt;)
</pre></div>
</div>
<hr class="docutils" />
<p>With the help of the Mayavi Library, the CorSer class allows to display
in 3D :</p>
<ul class="simple">
<li>The building where measurements have taken place</li>
<li>The positions of Vicon Cameras</li>
<li>The Multi-cylindric representation of the the subjects involved in
the selected serie</li>
<li>The position/ antenna pattern of the devices on the body(ies) and in
the infrastructure.</li>
</ul>
<p>By default, the use of the *S._show3* method display the complete
scene with body(ies) and associated devices at 4 different timestamp</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S._show3()

#the following line is only used to display in the notebook a screenshot of the mayavi window
myu.inotshow(&#39;fig1&#39;)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>/home/uguen/anaconda2/lib/python2.7/site-packages/mayavi/tools/camera.py:288: FutureWarning: elementwise comparison failed; returning scalar instead, but in the future will perform elementwise comparison
  if focalpoint is not None and not focalpoint == &#39;auto&#39;:
</pre></div>
</div>
<img alt="../../_images/Corser_41_1.png" src="../../_images/Corser_41_1.png" />
</div>
</div>
<div class="section" id="specify-time-bodytime-parameter">
<h3>Specify time (<em>bodytime</em> parameter)<a class="headerlink" href="#specify-time-bodytime-parameter" title="Permalink to this headline">¶</a></h3>
<p>In order to display scene at specific timestamps, the parameter
<em>bodytime</em> can be used</p>
<p>Example: to show the body position at <span class="math">\(t=0s\)</span>, <span class="math">\(t=30s\)</span> and
<span class="math">\(t=90s\)</span>.</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S._show3(bodytime=[0.,30.,90.])
#the following line is only used to display in the notebook a screenshot of the mayavi window
myu.inotshow(&#39;fig2&#39;)
</pre></div>
</div>
<img alt="../../_images/Corser_43_0.png" src="../../_images/Corser_43_0.png" />
</div>
<div class="section" id="display-trajectory-trajectory-parameter">
<h3>display trajectory (<em>trajectory</em> parameter)<a class="headerlink" href="#display-trajectory-trajectory-parameter" title="Permalink to this headline">¶</a></h3>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S._show3(trajectory = True,bodytime=[0.,30.,90.])

#the following line is only used to display in the notebook a screenshot of the mayavi window
myu.inotshow(&#39;fig3&#39;)
</pre></div>
</div>
<hr class="docutils" />
<p>The method *S._show3i()* allows to display the 3D scene with an extra
window incluying a slider acting like a jog shuttle, to choose the
timestamp to vizualize.</p>
<p>Note : This function is note available in the notebook</p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S._show3i(t=35) #t=35 is an initialization value

#the following line is only used to display in the notebook a screenshot of the mayavi window
myu.inotshow(&#39;fig4&#39;)
</pre></div>
</div>
<img alt="../../_images/Corser_47_0.png" src="../../_images/Corser_47_0.png" />
<hr class="docutils" />
<p>The visibility matrix can be displayed simultaneously to the 3D view.</p>
<p>For that purpose a visibility/occultation matrix is computed the first
time the vizualization is called. The following code displays the
tisibility matrix and associated 3D scene at the inital time
<span class="math">\(t=35s\)</span></p>
<div class="code highlight-none"><div class="highlight"><pre><span></span>S.imshowvisibility_i(t=35)

#the following line is only used to display in the notebook a screenshot of the mayavi window
myu.inotshow(&#39;fig5&#39;)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Visibility is computed only once, Please wait

processing shadowing from  Nicolas
</pre></div>
</div>
<img alt="../../_images/Corser_49_1.png" src="../../_images/Corser_49_1.png" />
<img alt="../../_images/Corser_49_2.png" src="../../_images/Corser_49_2.png" />
</div>
</div>
</div>
<div class="section" id="using-pylayers-ray-tracing-with-corser-data">
<h1>Using Pylayers Ray-tracing with CorSer data<a class="headerlink" href="#using-pylayers-ray-tracing-with-corser-data" title="Permalink to this headline">¶</a></h1>
<div class="code highlight-none"><div class="highlight"><pre><span></span>import pylayers.simul.simultraj as st
</pre></div>
</div>
<div class="code highlight-none"><div class="highlight"><pre><span></span>ST = st.Simul(S)
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre><span></span>Warning Unable to read graph Gr
Warning Unable to read graph Gw
Layout Graph loaded
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../2-AP/MetisRayTracing60GHzforTC1.html" class="btn btn-neutral float-right" title="TC1 METIS Scenario" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../4-MOB/Body.html" class="btn btn-neutral" title="Handling Body Description and Mobility" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyLayers developer team.
      Last updated on Nov 08, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>